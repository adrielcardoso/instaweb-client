(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{158:function(e,t,n){e.exports=n(513)},438:function(e,t,n){},459:function(e,t,n){},461:function(e,t,n){},489:function(e,t,n){},491:function(e,t,n){},493:function(e,t,n){},495:function(e,t,n){},498:function(e,t,n){},500:function(e,t,n){},502:function(e,t,n){},504:function(e,t,n){},506:function(e,t,n){},509:function(e,t,n){},513:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"getUserProfile",function(){return G}),n.d(a,"editProfile",function(){return V}),n.d(a,"getPreview",function(){return F}),n.d(a,"resetValue",function(){return W}),n.d(a,"followUser",function(){return z}),n.d(a,"unfollowUser",function(){return H}),n.d(a,"hoverPost",function(){return B}),n.d(a,"unhoverPost",function(){return J}),n.d(a,"getFollowing",function(){return K}),n.d(a,"setLoading",function(){return q});var r={};n.r(r),n.d(r,"loginUser",function(){return me}),n.d(r,"registerUser",function(){return pe}),n.d(r,"logout",function(){return de}),n.d(r,"getPreview",function(){return fe}),n.d(r,"resetValue",function(){return he});var o={};n.r(o),n.d(o,"resetValue",function(){return Le}),n.d(o,"addComment",function(){return Ae}),n.d(o,"getComment",function(){return Ce}),n.d(o,"editComment",function(){return Me}),n.d(o,"deleteComment",function(){return Ue}),n.d(o,"getFollowing",function(){return Ge});var c={};n.r(c),n.d(c,"getFeed",function(){return $e}),n.d(c,"getAllPosts",function(){return Ze}),n.d(c,"getPost",function(){return Qe}),n.d(c,"getPostForEdit",function(){return Xe}),n.d(c,"submitNewPost",function(){return Ye}),n.d(c,"createPost",function(){return et}),n.d(c,"editPost",function(){return tt}),n.d(c,"deletePost",function(){return nt}),n.d(c,"likePost",function(){return at}),n.d(c,"dislikePost",function(){return rt}),n.d(c,"getPreview",function(){return ot}),n.d(c,"resetValue",function(){return ct}),n.d(c,"setLoading",function(){return st});var s=n(0),i=n.n(s),l=n(47),u=n.n(l),m=n(11),p=n(9),d=n(13),f=n(12),h=n(5),E=n(539),v=n(540),g=n(541),y=n(542),b=n(7),O=n(57),N=Object(O.a)(),j=n(528),S=n(17),w=(n(438),function(e){return i.a.createElement("nav",{className:"navbar navbar-expand navbar-light bg-white border-bottom fixed-top"},i.a.createElement("div",{className:"container d-flex justify-content-start"},localStorage.Auth?i.a.createElement("p",null):i.a.createElement(j.a,{className:"navbar-brand d-sm-block",to:localStorage.Auth?"/posts":"/"},i.a.createElement("img",{src:"https://www.flaticon.com/svg/static/icons/svg/3524/3524440.svg",alt:"",width:"40"}),i.a.createElement("label",{style:{position:"absolute",paddingTop:"5px",fontFamily:"monospace"}},"Instagr\xe3o")),localStorage.Auth&&i.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},i.a.createElement(j.a,{className:"navbar-brand d-none d-sm-block",to:localStorage.Auth?"/posts":"/"},i.a.createElement("img",{src:"https://jbssocial.s3-sa-east-1.amazonaws.com/seara-logo-2.png",alt:"",width:"60"})),i.a.createElement("ul",{className:"navbar-nav ml-auto"},i.a.createElement("li",{className:"nav-item active"},i.a.createElement(j.a,{className:"nav-link",to:"/posts/new"},i.a.createElement(S.Edit,{className:"navIcons",size:25}))),i.a.createElement("li",{className:"nav-item active ml-3 mr-3"},i.a.createElement(j.a,{className:"nav-link",to:"/explore"},i.a.createElement(S.Compass,{className:"navIcons",size:25}))),i.a.createElement("li",{className:"nav-item active mr-3"},i.a.createElement(j.a,{className:"nav-link",to:"/users/".concat(JSON.parse(localStorage.getItem("Auth")).id)},i.a.createElement(S.User,{className:"navIcons",size:25}))),localStorage.Auth&&JSON.parse(localStorage.getItem("Auth")).isAdm&&i.a.createElement("li",{className:"nav-item active ml-3 mr-3"},i.a.createElement(j.a,{className:"nav-link",to:"/backoffice"},i.a.createElement(S.Archive,{className:"navIcons",size:25}))),i.a.createElement("li",{className:"nav-item active"},i.a.createElement("div",{className:"nav-link"},i.a.createElement(S.LogOut,{className:"navIcons",size:25,onClick:e.logout})))))))}),P=n(10),I=n.n(P);n(459);function R(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw o}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var k=function(e){var t=JSON.parse(localStorage.getItem("Auth"));return i.a.createElement("div",{className:"container component"},e.user&&i.a.createElement("div",null,i.a.createElement("div",{className:"d-flex justify-content-center"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-12 col-md-4 d-flex justify-content-center"},i.a.createElement("img",{src:e.user.avatar,alt:"",className:"mr-5 rounded-circle mx-auto mb-3",width:"150",height:"150"})),i.a.createElement("div",{className:"col-sm-12 col-md-8"},i.a.createElement("span",{className:"lead username"},e.user.username," "),e.user._id===t.id?i.a.createElement(j.a,{to:"/accounts/".concat(e.user._id,"/edit"),className:"ml-2 btn btn-sm btn-outline-dark"},i.a.createElement("span",{className:"ml-3 mr-3"},"Editar Perfil")):function(e){if(e){var n,a=R(e);try{for(a.s();!(n=a.n()).done;)if(n.value._id===t.id)return!0}catch(r){a.e(r)}finally{a.f()}}}(e.user.followers)?i.a.createElement("button",{className:"ml-2 btn btn-sm btn-outline-dark",onClick:function(){return e.unfollow(e.user._id)}},i.a.createElement("span",{className:"ml-3 mr-3"},"Seguindo")):i.a.createElement("button",{className:"ml-2 btn btn-sm btn-primary",onClick:function(){return e.follow(e.user._id)}},i.a.createElement("span",{className:"ml-3 mr-3"},"Seguir")),i.a.createElement("div",{className:"d-flex mt-3"},i.a.createElement("div",{className:"mr-4"},i.a.createElement(j.a,{to:"/users/".concat(e.user._id,"/followers"),className:"headerLinks"},e.user.followers&&e.user.followers.length," "),"Seguidores"),i.a.createElement("div",{className:"mr-4"},i.a.createElement(j.a,{to:"/users/".concat(e.user._id,"/following"),className:"headerLinks"},e.user.following&&e.user.following.length," "),"Seguindo")),i.a.createElement("p",{className:"mt-3"},e.user.bio)))),i.a.createElement("hr",null)))},T=(n(461),function(e){return i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"row"},e.posts&&e.posts.map(function(t){return i.a.createElement("div",{className:"col-6 col-sm-6 col-md-4",key:t._id},i.a.createElement(j.a,{to:"/posts/".concat(t._id)},i.a.createElement("div",{className:"card border-0 rounded-0 mt-4 mb-2",onMouseEnter:function(){return e.hoverPost(t._id)},onMouseLeave:function(){return e.unhoverPost(t._id)}},i.a.createElement("img",{src:t.image,alt:"",className:"card-img-top rounded-0"}),i.a.createElement("div",{className:"card-img-overlay text-white d-flex justify-content-center align-items-center ".concat(e.visible===t._id?"":"invisible")},i.a.createElement("div",{className:"mr-4"},i.a.createElement(S.Heart,{className:"feedIcons",color:"white",fill:"white"})," ",t.likes.length),i.a.createElement("div",null,i.a.createElement(S.MessageCircle,{className:"feedIcons msgCircle",color:"white",fill:"white"})," ",t.comments.length)))))})))}),x=n(116),D=n(129),L=n(118);function A(){var e=Object(x.a)(["\n  display: block;\n  margin: 0 auto;\n  border-color: red;\n  margin-top: 200px;\n  text-align: center;\n"]);return A=function(){return e},e}var C=Object(D.a)(A()),M=function(){return i.a.createElement("div",{className:"sweet-loading"},i.a.createElement(L.FadeLoader,{className:C,sizeUnit:"px",size:100,color:"#003569"}))},U=n(2);I.a.defaults.headers.common.Authorization="bearer ".concat(localStorage.token);var G=function(e){return function(t){I.a.get(ie+"/api/users/".concat(e)).then(function(e){t({type:"USER_PROFILE",payload:{posts:e.data.posts,user:e.data.user}})}).then(function(e){t({type:"LOADING",payload:!1})}).catch(function(e){console.log(e)})}},V=function(e,t){return function(n){if("object"===Object(U.a)(e.avatar)&&e.avatar.length>1)return n({type:"EDIT_PROFILE",payload:"only 1 image allowed"});var a=new FormData;"object"===Object(U.a)(e.avatar)&&a.append("file",e.avatar[0]),""!==e.name&&void 0!==e.name&&a.append("name",e.name),""!==e.bio&&void 0!==e.bio&&a.append("bio",e.bio),I.a.put(ie+"/api/users/".concat(t),a).then(function(e){n({type:"EDIT_PROFILE",payload:e.data.message}),N.push("/users/".concat(t))}).catch(function(e){console.log(e)})}},F=function(e){return function(t){if(e[1])return t({type:"GET_PREVIEW",payload:{message:"Only 1 image allowed"}});t({type:"GET_PREVIEW",payload:e[0].preview})}},W=function(){return function(e){e({type:"RESET_VALUE",payload:""})}},z=function(e){return function(t){I.a.post(ie+"/api/users/".concat(e,"/follow")).then(function(e){t({type:"FOLLOW_USER",payload:e.data})}).catch(function(e){console.log(e)})}},H=function(e){return function(t){I.a.delete(ie+"/api/users/".concat(e,"/follow")).then(function(e){t({type:"UNFOLLOW_USER",payload:e.data})}).catch(function(e){console.log(e)})}},B=function(e){return function(t){t({type:"HOVER_POST",payload:e})}},J=function(){return function(e){e({type:" UNHOVER_POST",payload:null})}},K=function(e){return function(e){var t=JSON.parse(localStorage.getItem("Auth"));I.a.get(ie+"/api/users/".concat(t.id)).then(function(t){e({type:"CHECK_IF_FOLLOWING",payload:t.data.user.following})}).catch(function(e){console.log(e)})}},q=function(){return function(e){e({type:"RESET_LOADING",payload:!0})}},$=n(529),Z=n(543),Q=n(532),X=n(544),Y=n(533),ee=n(534),te=n(537),ne=n(535),ae=Object($.a)(function(e){return{root:{width:"100%",maxWidth:"36ch",margin:"auto",backgroundColor:e.palette.background.paper},inline:{display:"inline"}}});function re(e){var t=ae();return i.a.createElement(S.List,{className:t.root},e&&e.users&&e.users.map(function(e){return console.log(e),i.a.createElement("div",{style:{width:"100%"}},i.a.createElement(Z.a,{alignItems:"flex-start"},i.a.createElement(Q.a,null,i.a.createElement(X.a,{alt:"Remy Sharp",src:e.avatar})),i.a.createElement(Y.a,{primary:e.username,secondary:i.a.createElement(i.a.Fragment,null,i.a.createElement(ee.a,{component:"span",variant:"body2",className:t.inline,color:"textPrimary"},"Ativo: ",e.ativo))}),i.a.createElement(te.a,{color:"primary",defaultChecked:e.checked,onChange:function(t){console.log(t.target.checked),console.log(e),I.a.put(ie+"/api/user/"+e.id+"/status/"+t.target.checked).then(function(e){console.log(e)}).catch(function(e){console.log(e)})},inputProps:{"aria-label":"secondary checkbox"}})),i.a.createElement(ne.a,{variant:"inset",component:"li"}))}))}function oe(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ce(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw o}}}}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function se(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(h.a)(e);if(t){var r=Object(h.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(f.a)(this,n)}}var ie="http://social.mobsistema.com.br:5000";I.a.defaults.headers.common.Authorization="bearer ".concat(localStorage.token);var le=function(e){Object(d.a)(n,e);var t=se(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={loading:!0,users:[]},e}return Object(p.a)(n,[{key:"componentWillMount",value:function(){var e=this;I.a.get(ie+"/api/users-all").then(function(t){var n=[];if(t.data&&t.data.user&&t.data.user.length>0){var a,r=[],o=oe(t.data.user);try{for(o.s();!(a=o.n()).done;){var c=a.value;r.push({id:c._id,username:c.username,avatar:c.avatar,name:c.name,ativo:c.checked?"SIM":"N\xc3O",checked:c.checked})}}catch(s){o.e(s)}finally{o.f()}n=r}e.setState({loading:!1,users:n})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return i.a.createElement("div",null,this.state.loading?i.a.createElement(M,null):i.a.createElement("div",null,i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"text-center component"},i.a.createElement("h4",null,"Controle de Acessos"),i.a.createElement("p",{className:"lead"},"Defina os usu\xe1rios que poder\xe3o acessar a plataforma"))),i.a.createElement(re,{users:this.state.users})))}}]),n}(s.Component),ue=Object(b.b)(function(e){return{user:e.user.user,posts:e.user.posts,visible:e.common.visible,loading:e.common.loading}},a)(le);I.a.defaults.headers.common.Authorization="bearer ".concat(localStorage.token);var me=function(e){return function(t){var n=e.username,a=e.password;I.a.post(ie+"/api/auth/login",{username:n,password:a}).then(function(e){e.data.message?t({type:"LOGIN_USER",payload:e.data.message}):!e.data.message&&e.data.token&&(console.log(e.data),localStorage.setItem("Auth",JSON.stringify(e.data.userInfo)),localStorage.setItem("token",e.data.token),I.a.defaults.headers.common.Authorization="bearer ".concat(e.data.token),t({type:"LOGIN_USER",payload:e.data.userInfo}))}).catch(function(e){console.log(e),t({type:"LOGIN_USER",payload:"error"})})}},pe=function(e){return function(t){var n=new FormData;e.image?(n.append("file",e.image[0]),n.append("username",e.username),n.append("password",e.password),I.a.post(ie+"/api/auth/register",n).then(function(e){t({type:"REGISTER_USER",payload:e.data}),e.data.error||N.push("/")}).catch(function(e){console.log(e)})):alert("Selecione uma Foto")}},de=function(){return function(e){I.a.post(ie+"/api/auth/logout").then(function(t){localStorage.removeItem("Auth"),localStorage.removeItem("token"),e({type:"LOGOUT_USER",payload:"/"})}).catch(function(e){console.log(e)})}},fe=function(e){return function(t){if(e[1])return t({type:"GET_PREVIEW",payload:{message:"Only 1 image allowed"}});t({type:"GET_PREVIEW",payload:e[0].preview})}},he=function(){return function(e){e({type:"RESET_VALUE",payload:""})}};function Ee(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(h.a)(e);if(t){var r=Object(h.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(f.a)(this,n)}}var ve=function(e){Object(d.a)(n,e);var t=Ee(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleLogout=function(){e.props.logout()},e}return Object(p.a)(n,[{key:"render",value:function(){var e=this;return i.a.createElement(w,{logout:function(){return e.handleLogout()}})}}]),n}(s.Component),ge=Object(b.b)(null,r)(ve),ye=n(93),be=n(91);n(489);function Oe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(h.a)(e);if(t){var r=Object(h.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(f.a)(this,n)}}var Ne=function(e){var t=e.handleSubmit,n=e.submitting,a=e.pristine;return i.a.createElement("form",{onSubmit:t,className:"mt-4"},i.a.createElement(ye.a,{name:"username",component:je,type:"text",label:"Nome"}),i.a.createElement(ye.a,{name:"password",component:je,type:"password",label:"Senha"}),i.a.createElement("button",{className:"btn btn-primary btn-sm btn-block mt-3",disabled:a||n},"Entrar"))},je=function(e){var t=e.input,n=e.label,a=e.type,r=e.meta,o=r.touched,c=r.error,s=r.warning;return i.a.createElement("div",null,i.a.createElement("input",Object.assign({className:"form-control form-control-sm mt-1 inputBg"},t,{placeholder:n,type:a})),o&&(c&&i.a.createElement("small",{className:"error"},c)||s&&i.a.createElement("small",{className:"error"},s)))};Ne=Object(be.a)({form:"signIn",validate:function(e){var t={};return e.username||(t.username="Required"),e.password||(t.password="Required"),t}})(Ne);var Se=function(e){Object(d.a)(n,e);var t=Oe(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleSubmit=function(t){e.props.loginUser(t)},e}return Object(p.a)(n,[{key:"componentWillUnmount",value:function(){this.props.resetValue()}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"container d-flex justify-content-center component"},i.a.createElement("div",{className:"card p-5 infoCards rounded-0"},i.a.createElement("img",{src:"https://jbssocial.s3-sa-east-1.amazonaws.com/logo_seara_interna.png",alt:"",className:"mx-auto",width:"150"}),i.a.createElement(Ne,{onSubmit:this.handleSubmit}),this.props.loginError&&i.a.createElement("small",{className:"error text-center mt-3"},this.props.loginError),this.props.registerSuccess&&i.a.createElement("small",{className:"success text-center mt-3"},this.props.registerSuccess))),i.a.createElement("div",{className:"container d-flex justify-content-center mt-2"},i.a.createElement("div",{className:"card text-center infoCards rounded-0"},i.a.createElement("div",{className:"card-body"},"N\xe3o tem uma Conta? ",i.a.createElement(j.a,{to:"/register"},"Cadastrar")))))}}]),n}(s.Component),we=Object(b.b)(function(e){return{loginError:e.auth.loginError,registerSuccess:e.auth.registerSuccess}},r)(Se),Pe=n(52);n(491);function Ie(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(h.a)(e);if(t){var r=Object(h.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(f.a)(this,n)}}var Re=function(e){var t=e.input,n=e.name,a=e.meta,r=a.dirty,o=a.error;return i.a.createElement("div",null,i.a.createElement(Pe.a,{name:n,className:"drop mt-1 rounded",accept:"image/jpeg, image/jpg, image/png",onDrop:function(e){return t.onChange(e)}},i.a.createElement("div",{className:"d-flex justify-content-center h-100"},i.a.createElement("div",{className:"text-center align-self-center"},i.a.createElement("div",null,i.a.createElement(S.Plus,{className:"text-muted camera"})),i.a.createElement("span",{className:"text-muted avatarText"},"Foto do Perfil")))),r&&o&&i.a.createElement("small",{className:"error"},o))},_e=function(e){var t=e.handleSubmit,n=e.onValues,a=e.submitting,r=e.pristine,o=e.errorMsg;return i.a.createElement("form",{onSubmit:t,className:"mt-4"},i.a.createElement(ye.a,{name:"username",component:ke,type:"text",label:"Nome"}),i.a.createElement(ye.a,{name:"password",component:ke,type:"password",label:"Senha"}),i.a.createElement(ye.a,{name:"image",component:Re,onChange:n}),o&&i.a.createElement("small",{className:"error"},o),i.a.createElement("button",{className:"btn btn-primary btn-sm btn-block mt-3",disabled:r||a},"Cadastrar"))},ke=function(e){var t=e.input,n=e.label,a=e.type,r=e.meta,o=r.touched,c=r.error,s=r.warning;return i.a.createElement("div",null,i.a.createElement("input",Object.assign({className:"form-control form-control-sm mt-1 inputBg"},t,{placeholder:n,type:a})),o&&(c&&i.a.createElement("small",{className:"error"},c)||s&&i.a.createElement("small",{className:"error"},s)))};_e=Object(be.a)({form:"signUp",destroyOnUnmount:!0,validate:function(e){var t={};return e.username||(t.username="Required"),e.password||(t.password="Required"),e.file||(t.file="Required"),t}})(_e);var Te=function(e){Object(d.a)(n,e);var t=Ie(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleSubmit=function(t){e.props.registerUser(t)},e.onValues=function(t){e.props.getPreview(t)},e}return Object(p.a)(n,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"container d-flex justify-content-center component"},i.a.createElement("div",{className:"card p-5 infoCards rounded-0"},i.a.createElement("img",{src:"https://jbssocial.s3-sa-east-1.amazonaws.com/logo_seara_interna.png",alt:"",className:"mx-auto",width:"150"}),this.props.imgPreview&&i.a.createElement("div",{className:"text-center mt-4"},i.a.createElement("img",{src:this.props.imgPreview,className:"imgPreview",alt:"",width:"100%"})),i.a.createElement(_e,{onSubmit:this.handleSubmit,onValues:this.onValues,preview:this.props.imgPreview,errorMsg:this.props.imagePreviewError}),i.a.createElement("div",{className:"text-center mt-3"},i.a.createElement("small",{className:"error"},this.props.registerMsg&&this.props.registerMsg)))),i.a.createElement("div",{className:"container d-flex justify-content-center mt-2"},i.a.createElement("div",{className:"card text-center infoCards rounded-0"},i.a.createElement("div",{className:"card-body"},"Tem uma Conta? ",i.a.createElement(j.a,{to:"/"},"Entrar")))))}}]),n}(s.Component),xe=Object(b.b)(function(e){return{registerMsg:e.auth.registerError,imgPreview:e.common.preview,imagePreviewError:e.common.imagePreviewError}},r)(Te),De=n(39);I.a.defaults.headers.common.Authorization="bearer ".concat(localStorage.token);var Le=function(){return function(e){e({type:"RESET_VALUE",payload:""})}},Ae=function(e,t,n){return function(a){I.a.post(ie+"/api/posts/".concat(t,"/comments"),{comment:e.comment}).then(function(e){return n?(a(Object(De.a)(t)),a({type:"ADD_COMMENT_SINGLE_POST",payload:e.data.comment})):(a(Object(De.a)(t)),a({type:"ADD_COMMENT",payload:{postId:e.data.postId,comment:e.data.comment}}))}).catch(function(e){console.log(e)})}},Ce=function(e,t){return function(n){I.a.get(ie+"/api/posts/".concat(e,"/comments/").concat(t,"/edit")).then(function(e){console.log(e),e.data.error?n({type:"COMMENT_ERROR",payload:e.data.error}):n({type:"GET_COMMENT",payload:e.data.comment})}).catch(function(e){console.log(e)})}},Me=function(e,t,n){return function(a){I.a.put(ie+"/api/posts/".concat(e,"/comments/").concat(t),{comment:n}).then(function(t){a({type:"EDIT_COMMENT",payload:t.data.message}),N.push("/posts/".concat(e))}).catch(function(e){console.log(e)})}},Ue=function(e,t,n){return function(a){I.a.delete(ie+"/api/posts/".concat(e,"/comments/").concat(t._id)).then(function(r){a(n?{type:"DELETE_COMMENT_SINGLE_POST",payload:t}:{type:"DELETE_COMMENT",payload:{postId:e,commentId:t._id}})}).catch(function(e){console.log(e)})}},Ge=function(e){return function(e){var t=JSON.parse(localStorage.getItem("Auth"));I.a.get(ie+"/api/users/".concat(t.id)).then(function(t){e({type:"CHECK_IF_FOLLOWING",payload:t.data.user.following})}).catch(function(e){console.log(e)})}};n(493);function Ve(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(h.a)(e);if(t){var r=Object(h.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(f.a)(this,n)}}var Fe=function(e){var t=e.handleSubmit,n=e.pristine,a=e.submitting;return i.a.createElement("form",{onSubmit:t},i.a.createElement(ye.a,{name:"comment",className:"form-control form-control-sm border-0 commentInput",component:"input",type:"text",placeholder:"Comentar...",autoComplete:"off"}),i.a.createElement("button",{className:"btn btn-primary btn-sm btn-block mt-2 d-block d-sm-none",disabled:n||a},"Post"))};Fe=Object(be.a)({destroyOnUnmount:!0})(Fe);var We=function(e){Object(d.a)(n,e);var t=Ve(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleSubmit=function(t){0!==Object.keys(t).length&&e.props.singlePost?e.props.addComment(t,e.props.postId,!0):0!==Object.keys(t).length&&e.props.addComment(t,e.props.postId,!1)},e}return Object(p.a)(n,[{key:"render",value:function(){return i.a.createElement(Fe,{form:"".concat(this.props.postId),onSubmit:this.handleSubmit})}}]),n}(s.Component),ze=Object(b.b)(null,o)(We);n(495);function He(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(h.a)(e);if(t){var r=Object(h.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(f.a)(this,n)}}var Be=function(e){Object(d.a)(n,e);var t=He(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=this;return i.a.createElement("div",null,this.props.comments&&this.props.comments.map(function(t){return i.a.createElement("div",{key:t._id},i.a.createElement(j.a,{to:"/users/".concat(t.author.id),className:"feedLinks"},t.author.username)," ",t.text," ",t.author.id===JSON.parse(localStorage.getItem("Auth")).id&&i.a.createElement("span",null," ",i.a.createElement("span",{className:"float-right feedLinks"},i.a.createElement(S.Trash2,{size:14,className:"feedIcons",onClick:function(){return e.props.deleteComment(e.props.postId,t,e.props.singlePost)}})),i.a.createElement(j.a,{to:"/edit/posts/".concat(e.props.postId,"/comments/").concat(t._id),className:"float-right feedLinks"},i.a.createElement(S.Edit2,{size:14,className:"feedIcons mr-2"}))))}))}}]),n}(s.Component),Je=Object(b.b)(null,o)(Be);function Ke(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qe(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw o}}}}function qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}I.a.defaults.headers.common.Authorization="bearer ".concat(localStorage.token);var $e=function(){return function(e){I.a.get(ie+"/api/posts").then(function(t){var n,a=[],r=Ke(t.data.posts);try{for(r.s();!(n=r.n()).done;){var o=n.value;(t.data.user.following.includes(o.author.id)||o.author.id===t.data.user._id)&&a.push(o)}}catch(c){r.e(c)}finally{r.f()}e({type:"GET_FEED",payload:a})}).then(function(t){e({type:"LOADING",payload:!1})}).catch(function(e){console.log(e)})}},Ze=function(){return function(e){I.a.get(ie+"/api/posts").then(function(t){e({type:"GET_FEED",payload:t.data.posts})}).then(function(t){e({type:"LOADING",payload:!1})}).catch(function(e){console.log(e)})}},Qe=function(e){return function(t){I.a.get(ie+"/api/posts/".concat(e)).then(function(e){e.data.error?t({type:"POST_ERROR",payload:e.data.error}):t({type:"GET_POST",payload:e.data})}).then(function(e){t({type:"LOADING",payload:!1})}).catch(function(e){console.log(e)})}},Xe=function(e){return function(t){I.a.get(ie+"/api/posts/".concat(e,"/edit")).then(function(e){t({type:"GET_POST_FOR_EDIT",payload:e.data})}).catch(function(e){console.log(e)})}},Ye=function(){return function(e){e({type:"SUBMIT_NEW_POST",payload:!0}),e({type:"SUBMIT_LOADING",payload:!0})}},et=function(e){return function(t){var n=new FormData;n.append("file",e.image[0]),e.caption&&n.append("caption",e.caption),I.a.post(ie+"/api/posts",n).then(function(e){console.log(e.data),t({type:"CREATE_POST",payload:e.data}),N.push("/posts")}).catch(function(e){console.log(e)})}},tt=function(e,t){return function(n){if("object"===Object(U.a)(e.image)&&e.image.length>1)return n({type:"EDIT_POST",payload:"Only 1 image allowed"});var a=new FormData;"object"===Object(U.a)(e.image)&&a.append("file",e.image[0]),""!==e.caption&&void 0!==e.caption&&a.append("caption",e.caption),I.a.put(ie+"/api/posts/".concat(t),a).then(function(e){n({type:"EDIT_POST",payload:"Updated Post"}),N.push("/posts/".concat(e.data._id))}).catch(function(e){console.log(e)})}},nt=function(e,t){return function(n){I.a.delete(ie+"/api/posts/".concat(e)).then(function(a){n(t?{type:"DELETE_SINGLE_POST",payload:a}:{type:"DELETE_POST",payload:e}),N.push("/posts")}).catch(function(e){console.log(e)})}},at=function(e,t){return function(n){I.a.post(ie+"/api/posts/".concat(e,"/likes")).then(function(a){return n(t?{type:"LIKE_SINGLE_POST",payload:a.data.like}:{type:"LIKE_POST",payload:{postId:e,like:a.data.like}})}).catch(function(e){console.log(e)})}},rt=function(e,t,n){return function(a){I.a.delete(ie+"/api/posts/".concat(e,"/likes/").concat(t._id)).then(function(r){if(n)return a({type:"DISLIKE_SINGLE_POST",payload:t});a({type:"DISLIKE_POST",payload:{postId:e,likeId:t._id}})}).catch(function(e){console.log(e)})}},ot=function(e){return function(t){if(e[1])return t({type:"GET_PREVIEW",payload:{message:"Only 1 image allowed"}});t({type:"GET_PREVIEW",payload:e[0].preview})}},ct=function(){return function(e){e({type:"RESET_VALUE",payload:""})}},st=function(){return function(e){e({type:"RESET_LOADING",payload:!0})}};function it(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return lt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lt(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw o}}}}function lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function ut(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(h.a)(e);if(t){var r=Object(h.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(f.a)(this,n)}}var mt=function(e){Object(d.a)(n,e);var t=ut(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleLike=function(){e.props.likePost(e.props.postId,e.props.singlePost)},e.handleDislike=function(t){e.props.dislikePost(e.props.postId,t,e.props.singlePost)},e.handleDeletePost=function(){e.props.deletePost(e.props.postId,e.props.singlePost)},e.renderHeart=function(){var t=JSON.parse(localStorage.getItem("Auth"));if(0===e.props.likes.length)return i.a.createElement("span",null,i.a.createElement(S.Heart,{className:"mr-2 feedIcons",onClick:function(){return e.handleLike()}}));if(0!==e.props.likes.length){var n,a=it(e.props.likes);try{var r=function(){var a=n.value;if(a._id===t.id)return{v:i.a.createElement("span",null,i.a.createElement(S.Heart,{className:"mr-2 feedIcons",color:"red",fill:"red",onClick:function(){return e.handleDislike(a)}}))}};for(a.s();!(n=a.n()).done;){var o=r();if("object"===Object(U.a)(o))return o.v}}catch(l){a.e(l)}finally{a.f()}var c,s=it(e.props.likes);try{for(s.s();!(c=s.n()).done;){if(c.value._id!==t.id)return i.a.createElement("span",null,i.a.createElement(S.Heart,{className:"mr-2 feedIcons",onClick:function(){return e.handleLike()}}))}}catch(l){s.e(l)}finally{s.f()}}},e}return Object(p.a)(n,[{key:"render",value:function(){var e=this;return i.a.createElement("div",null,this.renderHeart(),i.a.createElement(S.MessageCircle,{className:"mr-2 feedIcons msgCircle"}),this.props.authorId===JSON.parse(localStorage.getItem("Auth")).id?i.a.createElement("span",null,i.a.createElement(S.Trash2,{className:"feedIcons float-right",onClick:function(){return e.handleDeletePost()}}),i.a.createElement(j.a,{to:"/edit/posts/".concat(this.props.postId)},i.a.createElement(S.Edit2,{className:"feedIcons text-dark float-right mr-2"}))):i.a.createElement(S.Bookmark,{className:"feedIcons float-right"}))}}]),n}(s.Component),pt=Object(b.b)(null,c)(mt),dt=n(43),ft=n.n(dt);n(498);ft.a.locale("pt-BR");var ht=function(e){return i.a.createElement("div",null,e.posts&&0===e.posts.length?i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"text-center component"},i.a.createElement("h4",null,"Voc\xea n\xe3o est\xe1 seguindo ningu\xe9m."),i.a.createElement("p",{className:"lead"},"Navegue sobre o "," ",i.a.createElement(j.a,{to:"/explore",className:"instaLinks text-primary"},"Explorar")," ","para encontrar seguidores."))):i.a.createElement("div",{className:"container mt-5"},i.a.createElement("div",{className:"row"},e.posts&&e.posts.map(function(e){return i.a.createElement("div",{key:e._id,className:"col-12 d-flex justify-content-center"},i.a.createElement("div",{className:"card feedCard mt-5"},i.a.createElement("div",{className:"card-header bg-white p-3"},i.a.createElement("img",{src:e.author.avatar,alt:"",className:"rounded-circle mr-2",width:"30px",height:"30px"}),i.a.createElement(j.a,{to:"/users/".concat(e.author.id),className:"feedLinks"},e.author.username," ")),i.a.createElement("img",{src:e.image,alt:"",className:"card-img-top rounded-0"}),i.a.createElement("div",{className:"p-3"},i.a.createElement("div",{className:"mt-2"},i.a.createElement(j.a,{to:"/posts/".concat(e._id,"/liked_by"),className:"feedLinks"},e.likes.length," Curtiu")),e.description&&i.a.createElement("div",{className:"mt-1"},i.a.createElement(j.a,{to:"/users/".concat(e.author.id),className:"feedLinks"},e.author.username)," ",e.description),i.a.createElement(Je,{postId:e._id,comments:e.comments}),i.a.createElement("div",null,i.a.createElement(j.a,{to:"/posts/".concat(e._id),className:"text-uppercase postDate"},ft()(e.timePosted).fromNow())),i.a.createElement("hr",null),i.a.createElement(ze,{postId:e._id}))))}))))};function Et(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(h.a)(e);if(t){var r=Object(h.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(f.a)(this,n)}}var vt=function(e){Object(d.a)(n,e);var t=Et(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.props.setLoading(),this.props.getFeed()}},{key:"render",value:function(){return i.a.createElement("div",null,this.props.loading?i.a.createElement(M,null):i.a.createElement(ht,{posts:this.props.posts}))}}]),n}(s.Component),gt=Object(b.b)(function(e){return{posts:e.post.posts,loading:e.common.loading}},c)(vt);n(500);function yt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(h.a)(e);if(t){var r=Object(h.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(f.a)(this,n)}}var bt=function(e){var t=e.input,n=e.name;return i.a.createElement(Pe.a,{name:n,className:"drop mt-1 rounded",accept:"image/jpeg, image/jpg, image/png",onDrop:function(e){return t.onChange(e)}},i.a.createElement("div",{className:"d-flex justify-content-center h-100"},i.a.createElement("div",{className:"text-center align-self-center"},i.a.createElement("div",null,i.a.createElement(S.Plus,{className:"text-muted camera"})),i.a.createElement("span",{className:"text-muted avatarText"},"Escolher Foto"))))},Ot=function(e){var t=e.handleSubmit,n=e.onValues,a=e.preview,r=e.errorMsg;return i.a.createElement("form",{onSubmit:t,className:"mt-4"},r&&i.a.createElement("small",{className:"error"},r),i.a.createElement(ye.a,{name:"image",component:bt,onChange:n}),i.a.createElement(ye.a,{name:"caption",component:Nt,type:"text",label:"Descri\xe7\xe3o..."}),a?i.a.createElement("button",{className:"btn btn-primary btn-sm btn-block mt-3"},"POSTAR"):i.a.createElement("button",{className:"btn btn-primary btn-sm btn-block mt-3",disabled:!0},"POSTAR"))},Nt=function(e){var t=e.input,n=e.label,a=e.type;return i.a.createElement("textarea",Object.assign({className:"form-control form-control-sm mt-1 inputBg"},t,{placeholder:n,type:a}))};Ot=Object(be.a)({form:"createPost",destroyOnUnmount:!0})(Ot);var jt=function(e){Object(d.a)(n,e);var t=yt(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleSubmit=function(t){e.props.submitNewPost(),e.props.createPost(t)},e.onValues=function(t){e.props.getPreview(t)},e}return Object(p.a)(n,[{key:"componentWillUnmount",value:function(){this.props.resetValue()}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"container d-flex justify-content-center component"},this.props.submitLoading?i.a.createElement(M,null):i.a.createElement("div",{className:"card p-2 postCard rounded-0 ".concat(this.props.submitted&&"d-none")},i.a.createElement("div",{className:"card-body"},i.a.createElement("h1",{className:"text-center"},"Nova Postagem"),this.props.imgPreview&&i.a.createElement("div",{className:"text-center mt-4"},i.a.createElement("img",{src:this.props.imgPreview,className:"imgPreview",alt:"",width:"100%"})),i.a.createElement(Ot,{onSubmit:this.handleSubmit,onValues:this.onValues,preview:this.props.imgPreview,errorMsg:this.props.imagePreviewError})))))}}]),n}(s.Component),St=Object(b.b)(function(e){return{imgPreview:e.common.preview,imagePreviewError:e.common.imagePreviewError,submitted:e.common.submitted,submitLoading:e.common.submitLoading}},c)(jt);function wt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(h.a)(e);if(t){var r=Object(h.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(f.a)(this,n)}}var Pt=function(e){Object(d.a)(n,e);var t=wt(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.props.setLoading(),this.props.getUserProfile(this.props.match.params.userId)}},{key:"componentDidUpdate",value:function(e){this.props.match.params.userId!==e.match.params.userId&&this.props.getUserProfile(this.props.match.params.userId)}},{key:"render",value:function(){return i.a.createElement("div",null,this.props.loading?i.a.createElement(M,null):i.a.createElement("div",null,i.a.createElement(k,{user:this.props.user,follow:this.props.followUser,unfollow:this.props.unfollowUser}),i.a.createElement(T,{posts:this.props.posts,visible:this.props.visible,hoverPost:this.props.hoverPost,unhoverPost:this.props.unhoverPost})))}}]),n}(s.Component),It=Object(b.b)(function(e){return{user:e.user.user,posts:e.user.posts,visible:e.common.visible,loading:e.common.loading}},a)(Pt);function Rt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(h.a)(e);if(t){var r=Object(h.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(f.a)(this,n)}}var _t=function(e){Object(d.a)(n,e);var t=Rt(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.props.getUserProfile(this.props.userId)}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("img",{src:this.props.user.avatar,alt:"",className:"rounded-circle mr-2",width:"30px",height:"30px"}),i.a.createElement(j.a,{to:"/users/".concat(this.props.user._id),className:"feedLinks"},this.props.user.username," "))}}]),n}(s.Component),kt=Object(b.b)(function(e){return{user:e.user.user}},a)(_t),Tt=(n(502),function(e){return i.a.createElement("div",{className:"container component"},e.post&&e.post.author&&i.a.createElement("div",{className:"row no-gutters d-flex justify-content-center"},i.a.createElement("div",{className:"col-12 col-sm-7 d-none d-sm-block"},i.a.createElement("div",{className:"card d-flex justify-content-center rounded-0 border-right-0 h-100"},i.a.createElement("img",{src:e.post.image,alt:"",className:"rounded-0 img-fluid align-self-center"}))),i.a.createElement("div",{className:"col-12 col-sm-4"},i.a.createElement("div",{className:"card rounded-0 displayCard h-100"},i.a.createElement("div",{className:"card-header bg-white p-3 d-block d-sm-none"},i.a.createElement(kt,{userId:e.post.author.id})),i.a.createElement("img",{src:e.post.image,alt:"",className:"rounded-0 card-img-top d-block d-sm-none"}),i.a.createElement("div",{className:"p-3 d-none d-sm-block"},i.a.createElement(kt,{userId:e.post.author.id}),i.a.createElement("hr",null),e.post.description&&i.a.createElement("div",{className:"mt-1"},i.a.createElement(j.a,{to:"/users/".concat(e.post.author.id),className:"feedLinks"},e.post.author.username)," ",e.post.description),i.a.createElement("div",{className:"commentSection"},i.a.createElement(Je,{postId:e.post._id,comments:e.post.comments,singlePost:!0}))),i.a.createElement("div",{className:"p-3 mt-auto"},i.a.createElement("hr",{className:"d-none d-sm-block"}),i.a.createElement(pt,{authorId:e.post.author.id,postId:e.post._id,likes:e.post.likes,singlePost:!0}),i.a.createElement("div",null,i.a.createElement(j.a,{to:"/",className:"feedLinks"},e.post.likes.length," Curtiu")),i.a.createElement("div",{className:"d-block d-sm-none"},i.a.createElement(j.a,{to:"/users/".concat(e.post.author.id),className:"feedLinks"},e.post.author.username)," ",e.post.description),i.a.createElement("div",{className:"d-block d-sm-none"},i.a.createElement(Je,{postId:e.post._id,comments:e.post.comments,singlePost:!0})),i.a.createElement("div",null,i.a.createElement(j.a,{to:"/posts/".concat(e.post._id),className:"text-uppercase postDate"},ft()(e.post.timePosted).fromNow())),i.a.createElement("hr",null),i.a.createElement(ze,{postId:e.post._id,singlePost:!0}))))))});function xt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(h.a)(e);if(t){var r=Object(h.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(f.a)(this,n)}}var Dt=function(e){Object(d.a)(n,e);var t=xt(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.props.getPost(this.props.match.params.postId)}},{key:"render",value:function(){return i.a.createElement("div",null,this.props.loading?i.a.createElement(M,null):i.a.createElement("div",null,this.props.postError?i.a.createElement("div",{className:"container component"},i.a.createElement("h4",{className:"text-center"},this.props.postError)):i.a.createElement(Tt,{post:this.props.post})))}}]),n}(s.Component),Lt=Object(b.b)(function(e){return{post:e.post.post,postError:e.post.postError,loading:e.common.loading}},c)(Dt);function At(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(h.a)(e);if(t){var r=Object(h.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(f.a)(this,n)}}var Ct=function(e){var t=e.input,n=e.name;return i.a.createElement(Pe.a,{name:n,className:"drop mt-1 rounded",accept:"image/jpeg, image/jpg, image/png",onDrop:function(e){return t.onChange(e)}},i.a.createElement("div",{className:"d-flex justify-content-center h-100"},i.a.createElement("div",{className:"text-center align-self-center"},i.a.createElement("div",null,i.a.createElement(S.Plus,{className:"text-muted camera"})),i.a.createElement("span",{className:"text-muted avatarText"},"Escolher Foto"))))},Mt=function(e){var t=e.handleSubmit,n=e.onValues,a=e.pristine,r=e.submitting,o=e.errorMsg;return i.a.createElement("form",{onSubmit:t,className:"mt-4"},o&&i.a.createElement("small",{className:"error"},o),i.a.createElement(ye.a,{name:"image",component:Ct,onChange:n}),i.a.createElement(ye.a,{name:"caption",className:"form-control form-control-sm mt-1 inputBg",component:"textarea",placeholder:"Descri\xe7\xe3o"}),o?i.a.createElement("button",{className:"btn btn-primary btn-sm btn-block mt-3",disabled:!0},"POSTAR"):i.a.createElement("button",{className:"btn btn-primary btn-sm btn-block mt-3",disabled:a||r},"POSTAR"))};Mt=Object(be.a)({form:"editPost",enableReinitialize:!0})(Mt),Mt=Object(b.b)(function(e){return{initialValues:{caption:e.post.post&&e.post.post.description,image:e.post.post&&e.post.post.image}}})(Mt);var Ut=function(e){Object(d.a)(n,e);var t=At(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleSubmit=function(t){e.props.submitNewPost(),e.props.editPost(t,e.props.match.params.postId)},e.onValues=function(t){e.props.getPreview(t)},e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.props.getPostForEdit(this.props.match.params.postId)}},{key:"componentWillUnmount",value:function(){this.props.resetValue()}},{key:"render",value:function(){return i.a.createElement("div",{className:"container d-flex justify-content-center component"},this.props.submitLoading?i.a.createElement(M,null):i.a.createElement("div",{className:"card p-2 postCard rounded-0"},i.a.createElement("div",{className:"card-body"},i.a.createElement("h1",{className:"text-center"},"Editar Postagem"),this.props.imgPreview?i.a.createElement("div",{className:"text-center mt-4"},i.a.createElement("img",{src:this.props.imgPreview,className:"imgPreview",alt:"",width:"100%"})):i.a.createElement("div",{className:"text-center mt-4"},i.a.createElement("img",{src:this.props.image,className:"imgPreview",alt:"",width:"100%"})),i.a.createElement(Mt,{onSubmit:this.handleSubmit,onValues:this.onValues,preview:this.props.imgPreview,errorMsg:this.props.imagePreviewError}))))}}]),n}(s.Component),Gt=Object(b.b)(function(e){return{imgPreview:e.common.preview,image:e.post.post&&e.post.post.image,imagePreviewError:e.common.imagePreviewError,submitLoading:e.common.submitLoading}},c)(Ut);function Vt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(h.a)(e);if(t){var r=Object(h.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(f.a)(this,n)}}var Ft=function(e){var t=e.handleSubmit,n=e.pristine,a=e.submitting;return i.a.createElement("form",{onSubmit:t,className:"mt-4"},i.a.createElement(ye.a,{name:"comment",className:"form-control form-control-sm",component:"textarea",rows:"3",type:"text",label:"Comentar...",autoComplete:"off"}),i.a.createElement("button",{className:"btn btn-primary btn-sm btn-block mt-3",disabled:n||a},"Edit"))};Ft=Object(be.a)({enableReinitialize:!0})(Ft),Ft=Object(b.b)(function(e){return{initialValues:{comment:e.post.comment}}})(Ft);var Wt=function(e){Object(d.a)(n,e);var t=Vt(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleSubmit=function(t){e.props.editComment(e.props.match.params.postId,e.props.match.params.commentId,t.comment)},e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.props.getComment(this.props.match.params.postId,this.props.match.params.commentId)}},{key:"render",value:function(){return i.a.createElement("div",{className:"container d-flex justify-content-center component"},this.props.commentError?i.a.createElement("h4",null,this.props.commentError):i.a.createElement("div",{className:"card p-2 postCard rounded-0"},i.a.createElement("div",{className:"card-body"},i.a.createElement("h1",{className:"text-center"},"Edit Comment"),i.a.createElement(Ft,{form:"".concat(this.props.match.params.commentId),onSubmit:this.handleSubmit}))))}}]),n}(s.Component),zt=Object(b.b)(function(e){return{commentError:e.post.commentError}},o)(Wt),Ht=function(){return i.a.createElement("div",{className:"container mt-4 text-center"},i.a.createElement("h3",null,"Error 404 Not Found"))};n(504);function Bt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(h.a)(e);if(t){var r=Object(h.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(f.a)(this,n)}}var Jt=function(e){var t=e.input,n=e.name;return i.a.createElement(Pe.a,{name:n,className:"upload text-primary",accept:"image/jpeg, image/jpg, image/png",onDrop:function(e){return t.onChange(e)}},"Editar Foto do Perfil")},Kt=function(e){var t=e.handleSubmit,n=e.onValues,a=e.pristine,r=e.submitting,o=e.errorMsg,c=e.info,s=e.preview;return i.a.createElement("form",{onSubmit:t},i.a.createElement("div",{className:"row mb-3"},i.a.createElement("div",{className:"col-4 col-md-2"},s?i.a.createElement("img",{src:s,className:"mr-3 rounded-circle align-self-center",alt:"",width:"65",height:"65"}):i.a.createElement("img",{src:c.avatar,className:"mr-3 rounded-circle align-self-center",alt:"",width:"65",height:"65"})),i.a.createElement("div",{className:"col-8 col-md-10"},i.a.createElement("h5",null,c.username),i.a.createElement(ye.a,{name:"avatar",component:Jt,onChange:n}),o&&i.a.createElement("small",{className:"error"},o))),i.a.createElement("div",{className:"form-group row"},i.a.createElement("label",{className:"col-sm-2 col-form-label"},"Nome Completo"),i.a.createElement("div",{className:"col-sm-10"},i.a.createElement(ye.a,{name:"name",className:"form-control form-control-sm",component:"input"}))),i.a.createElement("div",{className:"form-group row"},i.a.createElement("label",{className:"col-sm-2 col-form-label"},"Nome \xdanico"),i.a.createElement("div",{className:"col-sm-10"},i.a.createElement(ye.a,{name:"username",className:"form-control form-control-sm",component:"input",disabled:!0}))),i.a.createElement("div",{className:"form-group row"},i.a.createElement("label",{className:"col-sm-2 col-form-label"},"Bio"),i.a.createElement("div",{className:"col-sm-10"},i.a.createElement(ye.a,{name:"bio",className:"form-control form-control-sm",component:"textarea"}))),o?i.a.createElement("button",{className:"btn btn-primary btn-sm btn-block mt-3",disabled:!0},"POSTAR"):i.a.createElement("button",{className:"btn btn-primary btn-sm btn-block mt-3",disabled:a||r},"ATUALIZAR"))};Kt=Object(be.a)({form:"editProfile",enableReinitialize:!0})(Kt),Kt=Object(b.b)(function(e){return{initialValues:{username:e.user.user.username,avatar:e.user.user.avatar,name:e.user.user.name,bio:e.user.user.bio}}})(Kt);var qt=function(e){Object(d.a)(n,e);var t=Bt(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleSubmit=function(t){e.props.editProfile(t,e.props.match.params.userId)},e.onValues=function(t){e.props.getPreview(t)},e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.props.getUserProfile(this.props.match.params.userId)}},{key:"componentWillUnmount",value:function(){this.props.resetValue()}},{key:"render",value:function(){return i.a.createElement("div",{className:"container d-flex justify-content-center component"},i.a.createElement("div",{className:"card p-2 editProfileCard rounded-0"},i.a.createElement("div",{className:"card-body"},i.a.createElement(Kt,{onSubmit:this.handleSubmit,onValues:this.onValues,preview:this.props.imgPreview,errorMsg:this.props.imagePreviewError,info:{username:this.props.username,avatar:this.props.avatar}}))))}}]),n}(s.Component),$t=Object(b.b)(function(e){return{imgPreview:e.common.preview,avatar:e.user.user&&e.user.user.avatar,username:e.user.user.username,imagePreviewError:e.common.imagePreviewError}},a)(qt);function Zt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(h.a)(e);if(t){var r=Object(h.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(f.a)(this,n)}}var Qt=function(e){Object(d.a)(n,e);var t=Zt(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.props.getAllPosts()}},{key:"render",value:function(){return i.a.createElement("div",null,this.props.loading?i.a.createElement(M,null):i.a.createElement(ht,{posts:this.props.posts}))}}]),n}(s.Component),Xt=Object(b.b)(function(e){return{posts:e.post.posts,loading:e.common.loading}},c)(Qt),Yt=(n(506),n(126)),en=n.n(Yt);function tn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(h.a)(e);if(t){var r=Object(h.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(f.a)(this,n)}}var nn=function(){return i.a.createElement(E.a,{to:"/"})},an=function(e){Object(d.a)(n,e);var t=tn(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){return ft.a.locale("pt-br",[en.a]),i.a.createElement(v.a,{history:N},i.a.createElement("div",null,i.a.createElement(g.a,{path:"/",component:ge}),i.a.createElement("div",{className:"mb-5 app"},localStorage.token?i.a.createElement(y.a,null,i.a.createElement(g.a,{exact:!0,path:"/",render:function(){return i.a.createElement(E.a,{to:"/posts"})}}),i.a.createElement(g.a,{exact:!0,path:"/posts",component:gt}),i.a.createElement(g.a,{path:"/explore",component:Xt}),i.a.createElement(g.a,{path:"/posts/new",component:St}),i.a.createElement(g.a,{path:"/edit/posts/:postId",component:Gt}),i.a.createElement(g.a,{path:"/posts/:postId",component:Lt}),i.a.createElement(g.a,{path:"/users/:userId",component:It}),i.a.createElement(g.a,{path:"/accounts/:userId/edit",component:$t}),JSON.parse(localStorage.getItem("Auth")).isAdm?i.a.createElement(g.a,{path:"/backoffice",component:ue}):i.a.createElement("div",null),i.a.createElement(g.a,{path:"/edit/posts/:postId/comments/:commentId",component:zt}),i.a.createElement(g.a,{component:Ht})):i.a.createElement(y.a,null,i.a.createElement(g.a,{exact:!0,path:"/",component:we}),i.a.createElement(g.a,{path:"/register",component:xe}),i.a.createElement(g.a,{component:nn})))))}}]),n}(s.Component),rn=Object(b.b)(function(e){return{isAuth:e.auth.isAuth,redirect:e.auth.redirect}},null)(an),on=n(21),cn=n(127),sn=n(94),ln={user:{},isAuth:!1,redirect:"",loginError:"",registerError:"",registerSuccess:""},un=n(37),mn=n(30),pn={posts:[],post:{},editError:"",deletePostMsg:"",comment:"",postError:"",commentError:""},dn={user:{},posts:[]},fn={prevew:"",imagePreviewError:"",submitted:!1,visible:null,loading:!0,submitLoading:!1,following:[]},hn=Object(on.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_USER":return t.payload.id?{user:t.payload,isAuth:!0}:{loginError:t.payload,isAuth:!1};case"REGISTER_USER":return t.payload.error?{registerError:t.payload.error}:{registerSuccess:t.payload.success};case"LOGOUT_USER":return{isAuth:!1,redirect:t.payload};case"RESET_VALUE":return{loginError:t.payload,registerError:t.payload,registerSuccess:t.payload};default:return e}},form:sn.a,post:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_POST":return t.payload;case"DELETE_POST":return{posts:e.posts.filter(function(e){return e._id!==t.payload})};case"DELETE_SINGLE_POST":return t.payload;case"GET_FEED":return{posts:t.payload};case"GET_POST_FOR_EDIT":case"GET_POST":return{post:t.payload};case"POST_ERROR":return{postError:t.payload};case"ADD_COMMENT":return{posts:e.posts.map(function(e){return e._id===t.payload.postId?(e.comments=[].concat(Object(mn.a)(e.comments),[t.payload.comment]),e):e})};case"ADD_COMMENT_SINGLE_POST":var n=e;return Object(un.a)({},n,{post:Object(un.a)({},n.post,{comments:[].concat(Object(mn.a)(n.post.comments),[t.payload])})});case"GET_COMMENT":return{comment:t.payload};case"COMMENT_ERROR":return{commentError:t.payload};case"DELETE_COMMENT":return{posts:e.posts.map(function(e){return e._id===t.payload.postId?(e.comments=e.comments.filter(function(e){return e._id!==t.payload.commentId}),e):e})};case"DELETE_COMMENT_SINGLE_POST":var a=e;return Object(un.a)({},a,{post:Object(un.a)({},a.post,{comments:a.post.comments.filter(function(e){return e._id!==t.payload._id})})});case"LIKE_POST":return{posts:e.posts.map(function(e){return e._id===t.payload.postId?(e.likes=[].concat(Object(mn.a)(e.likes),[t.payload.like]),e):e})};case"LIKE_SINGLE_POST":var r=e;return Object(un.a)({},r,{post:Object(un.a)({},r.post,{likes:[].concat(Object(mn.a)(r.post.likes),[t.payload])})});case"DISLIKE_POST":return{posts:e.posts.map(function(e){return e._id===t.payload.postId?(e.likes=e.likes.filter(function(e){return e._id!==t.payload.likeId}),e):e})};case"DISLIKE_SINGLE_POST":var o=e;return Object(un.a)({},o,{post:Object(un.a)({},o.post,{likes:o.post.likes.filter(function(e){return e._id!==t.payload._id})})});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_PROFILE":return{user:t.payload.user,posts:t.payload.posts};case"FOLLOW_USER":var n=e;return Object(un.a)({},n,{user:Object(un.a)({},n.user,{followers:[].concat(Object(mn.a)(n.user.followers),[t.payload])})});case"UNFOLLOW_USER":return{user:t.payload,posts:e.posts};default:return e}},common:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PREVIEW":return t.payload.message?{imagePreviewError:t.payload.message}:{preview:t.payload};case"RESET_VALUE":return{preview:t.payload,imagePreviewError:t.payload};case"SUBMIT_NEW_POST":return{submitted:t.payload};case"EDIT_POST":return{imagePreviewError:t.payload};case"HOVER_POST":case" UNHOVER_POST":return{visible:t.payload};case"CHECK_IF_FOLLOWING":return{following:t.payload};case"LOADING":return{loading:!1};case"SUBMIT_LOADING":return{submitLoading:!0};case"RESET_LOADING":return{loading:t.payload};default:return e}}}),En=(n(509),n(511),Object(on.d)(hn,{},Object(on.a)(cn.a)));u.a.render(i.a.createElement(b.a,{store:En},i.a.createElement(rn,null)),document.getElementById("root"))}},[[158,2,1]]]);
//# sourceMappingURL=main.5753245a.chunk.js.map